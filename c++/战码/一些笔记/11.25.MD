# 动态规划 DP
核心思想：拆分子问题，记住过往，减少重复计算

>忘记过去的人，注定要重蹈覆辙。 ——鲁迅
--------
# [题目：城市交通](https://qucode.cn/p/2036)
## 描述
有n个城市，编号1~n，有些城市之间有路相连，有些则没有，有路则会有一个距离。如图所示是一个含有11个城市的交通图，连线上的数表示距离。现在规定只能从编号小的城市到编号大的城市。问：从编号为1的城市到编号为n的城市的最短距离是多少？

![所包含图片](https://qucode.cn/p/2036/file/Sr0nxp-J2e4A2BiZfZghn.png?type=additional_file)
## 输入
第一行为n，表示城市数，n<=100。

下面n行是一个n*n的邻接矩阵map[i，j]，其中map[i，j]=0表示城市i和j之间没有路相连，否则为两者之间的距离。
## 输出
输出一个数，表示最短距离，保证有解。
## 测试数据1
输入：
```input
11
0 5 3 0 0 0 0 0 0 0 0
5 0 0 1 6 3 0 0 0 0 0
3 0 0 0 8 0 4 0 0 0 0
0 1 0 0 0 0 0 5 6 0 0
0 6 8 0 0 0 0 5 0 0 0
0 3 0 0 0 0 0 0 0 8 0
0 0 4 0 0 0 0 0 0 3 0
0 0 0 5 5 0 0 0 0 0 3
0 0 0 6 0 0 0 0 0 0 4
0 0 0 0 0 8 3 0 0 0 3
0 0 0 0 0 0 0 3 4 3 0
```
输出：
```output
13
```
-------
能ac的代码：
```cpp
#include <bits/stdc++.h>
using namespace std;
const int INF=1<<30;
int a[105][105];
int dp[105];
int main(){
	int n;
	cin>>n;
	for(int i=1;i<=n;i++){
		for(int j=1;j<=n;j++){
			cin>>a[i][j];
		}
	}
	fill(dp+2,dp+n+1,INF);//按类型空间赋初值
	/*
	memset(a,INF,sizeof(a));
	此函数是按字节赋值
	*/
	dp[1]=0;
	for(int i=1;i<=n;i++){
		for(int j=1;j<=n;j++){
			if(a[i][j]!=0) dp[j]=min(dp[j],dp[i]+a[i][j]);
		}
	}
	cout<<dp[n];
    return 0;
}
```
-----
# [题目：数字三角形](https://qucode.cn/p/2037)
## 题目描述
图示出了一个数字三角形。 请编一个程序计算从顶至底的某处的一条路径，使该路径所经过的数字的总和最大。

●每一步可沿左斜线向下或右斜线向下走；

●1＜三角形行数≤100；

●三角形中的数字为整数0，1，…99；

![图示](https://qucode.cn/p/2037/file/9KOJrf1O8d2c-6_a8WnLo.png?type=additional_file)
## 输入
第一行输入一个自然数，表示三角形的行数n; 接下来的n行，表示一个数字三角形。同一行的两个整数之间都有一个空格。
## 输出
输出一个整数，表示要求的最大总和。
## 测试数据
输入：
```input
5
7
3 8
8 1 0
2 7 4 4
4 5 2 6 5
```
输出：
```output
30
```
-----
ac代码：
```cpp
//way1
#include <bits/stdc++.h>
using namespace std;
int a[105][105],ans=-1;
int main(){
	int n;
	cin>>n;
	for(int i=1;i<=n;i++){
		for(int j=1;j<=i;j++){
			cin>>a[i][j];
			a[i][j]+=max(a[i-1][j-1],a[i-1][j]);
            ans=max(ans,a[i][j]);
		}
	}
    cout<<ans;
    return 0;
}
```
-----

# [作业：[NOIP2012 普及组] 摆花](https://qucode.cn/p/2038)

## 题目描述

小明的花店新开张，为了吸引顾客，他想在花店的门口摆上一排花，共 $m$ 盆。通过调查顾客的喜好，小明列出了顾客最喜欢的 $n$ 种花，从 $1$ 到 $n$ 标号。为了在门口展出更多种花，规定第 $i$ 种花不能超过 $a_i$ 盆，摆花时同一种花放在一起，且不同种类的花需按标号的从小到大的顺序依次摆列。

试编程计算，一共有多少种不同的摆花方案。

## 输入格式

第一行包含两个正整数 $n$ 和 $m$，中间用一个空格隔开。

第二行有 $n$ 个整数，每两个整数之间用一个空格隔开，依次表示 $a_1,a_2, \cdots ,a_n$。

## 输出格式

一个整数，表示有多少种方案。注意：因为方案数可能很多，请输出方案数对 $10^6+7$ 取模的结果。

## 样例 #1

### 样例输入 #1

```
2 4
3 2
```

### 样例输出 #1

```
2
```

## 提示

【数据范围】

对于 $20\%$ 数据，有 $0<n \le 8,0<m \le 8,0 \le a_i \le 8$。

对于 $50\%$ 数据，有 $0<n \le 20,0<m \le 20,0 \le a_i \le 20$。

对于 $100\%$ 数据，有 $0<n \le 100,0<m \le 100,0 \le a_i \le 100$。

NOIP 2012 普及组 第三题